<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Lychee Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <link rel="canonical" href="https://lycheeorg.github.io/docs/">

    <!-- Favicon -->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png"> -->
    <link rel="icon" type="image/png" href="img/logo.png">
    <!-- <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png"> -->
    <!-- <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png"> -->
    <!-- <link rel="manifest" href="/img/favicon/site.webmanifest"> -->
    <!-- <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#ff2d20"> -->
    <!-- <link rel="shortcut icon" href="/img/favicon/favicon.ico"> -->
    <meta name="msapplication-TileColor" content="#ff2d20">
    <!-- <meta name="msapplication-config" content="/img/favicon/browserconfig.xml"> -->
    <meta name="theme-color" content="#ffffff">

    <!-- Load fonts -->
    <link rel="stylesheet" href="https://use.typekit.net/ins2wgm.css">

    <!-- Load styles -->
    <link rel="stylesheet" type="text/css" href="css/app.css">

    <!-- Load JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="js/vendor/require.js"></script>

</head>

<body class="language-php">

    <div class="sidebar_layout" id="docsScreen">

        <div class="page_contain">
            <div class="contain">
                <aside class="sidebar">
                    <a href="../" class="logo">
                        <img class="mark" src="img/logo.png" alt="Laravel">
                        <img class="type" src="img/Lychee.png" alt="Laravel">
                    </a>
                    <nav>
                        <div class="navigation_contain">
                            <div class="docs_sidebar">
                                <ul>
                                    <li class='sub--on'>
<h2>Prologue</h2>
<ul>
<li><a href='org.html'>Lychee & LycheeOrg</a></li>
<li><a href='releases.html'>Release Notes</a></li>
<li><a href='upgrade.html'>Upgrade from v3</a></li>
<li><a href='contributions.html'>Contribution Guide</a></li>
<li><a href='api.html'>API Documentation</a></li>
<li><a href='faq.html'>Frequently Asked Question</a></li>
</ul>
<li class='sub--on'>
<h2>Getting Started</h2>
<ul>
<li class='active'><a href='installation.html'>Installation</a></li>
<li><a href='configuration.html'>Configuration</a></li>
<li><a href='docker.html'>Docker</a></li>
<li><a href='update.html'>Update</a></li>
</ul>
<li class='sub--on'>
<h2>Digging Deeper</h2>
<ul>
<li><a href='settings.html'>Settings</a></li>
<li><a href='keyboard.html'>Keyboard Shortcuts</a></li>
<li><a href='read-more.html'>Lychee logic overview</a></li>
<li><a href='structure.html'>Directory Structure</a></li>
<li><a href='node.html'>Front-end</a></li>
<li><a href='distributions.html'>Distributions Examples</a></li>
</ul>

                                    <li class="laravel">
                                        <h2>Laravel Basics</h2>
                                        <ul>
                                            <li><a href="http://laravel.com/docs/7.x/routing">Routing</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/middleware">Middleware</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/csrf">CSRF Protection</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/controllers">Controllers</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/requests">Requests</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/responses">Responses</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/views">Views</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/urls">URL Generation</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/session">Session</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/validation">Validation</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/errors">Error Handling</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/logging">Logging</a></li>
                                        </ul>
                                    </li>
                                    <li class="laravel">
                                        <h2>Laravel Database</h2>
                                        <ul>
                                            <li><a href="http://laravel.com/docs/7.x/database">Getting Started</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/queries">Query Builder</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/pagination">Pagination</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/migrations">Migrations</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/seeding">Seeding</a></li>
                                            <li><a href="http://laravel.com/docs/7.x/redis">Redis</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                    <div class="trigger_contain">
                        <a href="#" class="nav_trigger" aria-label="Menu">
                            <div class="bar"></div>
                        </a>
                    </div>
                </aside>

                <section class="body_content">
                    <section class="docs_body">
                        <section class="docs_main">
                            <h1>Installation</h1>
                            
<ul>
<li><a href="#installation">Installation</a><ul>
<li><a href="#server-requirements">Server Requirements</a></li>
<li><a href="#installing-lychee">Installing Lychee</a></li>
<li><a href="#configuration">Configuration</a></li>
</ul>
</li>
<li><a href="#web-server-configuration">Web Server Configuration</a><ul>
<li><a href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>

                            <hr> <h2 id="installation"><a class="toclink" href="#installation">Installation</a></h2>
<h3 id="server-requirements"><a class="toclink" href="#server-requirements">Server Requirements</a></h3>
<p>The Lychee gallery requires:</p>
<ul>
<li>A web server capable of serving PHP applications, such as Apache or Nginx.</li>
<li>PHP &gt;= 7.3</li>
<li>The following PHP extensions (typically installed with your distribution's package manager e.g. <code>apt</code> on Ubuntu):</li>
<li>BCMath PHP Extension</li>
<li>Ctype PHP Extension</li>
<li>Exif PHP Extension</li>
<li>Fileinfo PHP Extension</li>
<li>GD PHP Extension</li>
<li>JSON PHP Extension</li>
<li>Mbstring PHP Extension</li>
<li>OpenSSL PHP Extension</li>
<li>PDO PHP Extension</li>
<li>Tokenizer PHP Extension</li>
<li>XML PHP Extension</li>
<li>ZIP PHP Extension</li>
</ul>
<p>Lychee also supports, but does not require:</p>
<ul>
<li>Lychee can use either MySQL/MariaDB, PostgreSQL, or, SQL Server database backends. However, if no database is available,
  Lychee can be configured to use SQLite3.</li>
<li>FFMPEG PHP Extension (used to generate video thumbnails)</li>
<li>Imagick PHP Extension (<em>Required to support upload formats other than jpeg.</em>)</li>
</ul>
<p>Recommended, but not required:</p>
<ul>
<li>While Lychee works on 32bit systems, we do recommend the use of a 64bit OS.</li>
</ul>
<h3 id="installing-lychee"><a class="toclink" href="#installing-lychee">Installing Lychee</a></h3>
<p>We provide three methods to install Lychee; using Docker, from the latest release &mdash;simple unzip&mdash;, or from source.</p>
<h4>With Docker</h4>
<p>Read <a href="docker.html">here</a>.</p>
<h4>From Release</h4>
<p>Download the release zip-file from the Releases page and extract it (usually in <code>/var/www/html</code>).
It contains a trimmed down version of the Lychee files.</p>
<h4>From the Master branch</h4>
<p>Lychee utilizes <a href="https://getcomposer.org/">Composer</a> to manage its dependencies. Make sure you have Composer installed on your machine.</p>
<pre><code>git clone https://www.github.com/LycheeOrg/Lychee /var/www/html/Lychee
</code></pre>

<p>Get into the directory:</p>
<pre><code>cd /var/www/html/Lychee
</code></pre>

<p>Install the required dependencies.</p>
<pre><code>composer install --no-dev
</code></pre>

<p>If you want to help develop Lychee, you can enable development features by removing the <code>--no-dev</code>.</p>
<h3 id="configuration"><a class="toclink" href="#configuration">Configuration</a></h3>
<h4>Public Directory</h4>
<p>After installing Lychee, configure your web server's document / web root to be the <code>public</code> directory. The <code>index.php</code> in this directory serves as the front controller for all HTTP requests entering your application. Note that <code>.env</code> should not be externally accessible as it contains the encryption keys for the cookies and access to the database.</p>
<h4>Configuration Files</h4>
<p>All of the configuration files for Lychee are stored in the <code>config</code> directory. Each option is documented, so feel free to look through the files and get familiar with the options available to you.</p>
<h4>Directory Permissions</h4>
<p>After installing Lychee, you need to configure some permissions. Directories within the <code>storage</code> and the <code>bootstrap/cache</code> directories should be writable by your web server or Lychee will not run. Additionaly <code>public/dist</code>, <code>public/uploads</code> and <code>public/sym</code> needs to be writable for you to be able to change the CSS, upload photos, generate symbolic links to protect the originals.</p>
<h4>Application Key</h4>
<p>The next thing you should do after installing Lychee is set your application key to a random string. This is easily done by using the <code>php artisan key:generate</code> command.</p>
<p>Typically, this string should be 32 characters long. The key can be set in the <code>.env</code> environment file. If you have not copied the <code>.env.example</code> file to a new file named <code>.env</code>, you should do that now.</p>
<p><strong>If the application key is not set, your user sessions and other encrypted data will not be secure!</strong></p>
<h4>Additional Configuration</h4>
<p>Lychee needs almost no other configuration out of the box. You are free to get started developing! However, you may wish to review the <code>config/app.php</code> file and its documentation. It contains some options that aren't included from <code>.env</code> that you may wish to change according to your installation.</p>
<p>You may also want to configure a few additional components of Lychee, such as:
- Cache
- Database
- Session</p>
<h2 id="web-server-configuration"><a class="toclink" href="#web-server-configuration">Web Server Configuration</a></h2>
<h4>Apache</h4>
<p>Lychee includes a <code>public/.htaccess</code> file that is used to provide URLs without the <code>index.php</code> front controller in the path. Before serving Lychee with Apache, be sure to enable the <code>mod_rewrite</code> module so the <code>.htaccess</code> file will be honored by the server.</p>
<p>If the <code>.htaccess</code> file that ships with Lychee does not work with your Apache installation, try this alternative:</p>
<pre><code>Options +FollowSymLinks -Indexes
RewriteEngine On

RewriteCond %{HTTP:Authorization} .
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [L]
</code></pre>

<h4>Nginx</h4>
<p>Use the following configuration (typically placed under <code>/etc/nginx/sites-available</code>) for Nginx.</p>
<pre><code># Example Lychee 4 configuration server block for Nginx. To use, search for (1), (2), and (3) and alter these sections
# to match your configuration. With the exception of the optional settings at the bottom of this file, nothing else
# needs to be modified.

server {
    #Required: Nginx listen and server_name configuration. If TLS support is required, use LetsEncrypt certbot, which
    #(1)       will acquire certificates and make the required configuration changes to support TLS automatically.

    listen 80;
    server_name &lt;mydomain&gt;.&lt;tld&gt;;

    #Required: root path of Lychee public/ directory. This is the directory that contains index.php and a only few
    #(2)       subdirectories, not the git root directory that contains readme.md (etc).

    root /var/www/lychee/public/;

    #Optional, but highly recommended: ensure directory listings are disabled. This is the Nginx default, but better
    #                                  safe than sorry if the default has been changed.
    autoindex off;

    #Required: the front end sends some requests to the the back-end via POST requests sent to /php/index.php,
    #          but this file is actually /index.php. Rewrite requests to the correct path.
    #          !!! Do not modify unless you know what you're doing. !!!

    location = /php/index.php { rewrite ^/(.*)$ /index.php?/$1 last; }

    #Required: the front end sends most requests to the back end via POST requests sent to endpoints in /api.
    #          Rewrite these requests so they reach /index.php
    #          !!! Do not modify unless you know what you're doing. !!!

    location ^~ /api/ { rewrite ^(.*)$ /index.php?/$1 last; }

    #Required: Serve requests for / to index.php (via index directive), otherwise serve files with the specified
    #          extensions directly. Return 404 for all other file extensions to prevent any erroneously placed
    #          files from leaking.
    #          !!! Do not modify unless you know what you're doing. !!!

    location ~* ^\/$|\.(jpg|jpeg|gif|css|png|js|ico|html|txt|svg)$ { index index.php; }
    location / { return 404; }

    #Required: serve /index.php through php. Restricting this location block to Lychee's only php endpoint provides
    #(3)       defense-in-depth against malicious php scripts being uploaded and executed by an attacker. This block must
    #          be altered to match your PHP configuration.

    location = /index.php {
        fastcgi_split_path_info ^(.+?\.php)(/.*)$;

        # Mitigate https://httpoxy.org/ vulnerabilities
        fastcgi_param HTTP_PROXY &quot;&quot;;

    # Modify between these lines (down) to match your PHP configuration
        fastcgi_pass unix:/run/php/php7.4-fpm.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param PHP_VALUE &quot;post_max_size=100M
            max_execution_time=200
            upload_max_filesize=20M
            memory_limit=300MM&quot;;
        fastcgi_param PATH /usr/local/bin:/usr/bin:/bin;
        include fastcgi_params;
    # Modify between these lines (up) to match your PHP configuration    
    }

    #Optional, but highly recommended: lychee-specific logs. For security reasons, do not disable logging on any public
    #                                  server.

    error_log  /var/log/nginx/lychee.error.log;
    access_log /var/log/nginx/lychee.access.log;

    #Optional: Override default favicon

    #location = /favicon.ico { alias &lt;path to favicon&gt;; }

    #Optional: Remove trailing slashes from incoming requests (prevents SEO duplicate content issues)

    rewrite ^/(.+)/$ /$1 permanent;

    #Optional: Remove www prefix from domain name. Note that DNS entries and server_name directives for www.&lt;mydomain&gt;.&lt;tld&gt;
    #          must exist for this to work.

    rewrite ^www\.(.+)$ $1 permanent;

    #Optional: Drop http/1.0 connections. On the modern web, the only clients still using http 1.0 are usually bots looking
    #          for security vulnerabilities.

    # if ($server_protocol ~* &quot;HTTP/1.0&quot;) { return 444; }

    #Optional: Drop requests that result in errors rather than returning an error message. Marginally reduces server
    #          load and bandwidth use if your server is bombarded by attackers probing for insecure php pages.

    #error_page 400 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 421 422 423 424 425 426 428 429
    #        431 451 500 501 502 503 504 505 506 507 508 510 511 =444 /444.html;
    #location = /444.html { return 444; }
}

</code></pre>

<h3 id="troubleshooting"><a class="toclink" href="#troubleshooting">Troubleshooting</a></h3>
<p>See the <a href="https://lycheeorg.github.io/docs/faq.html#problems">FAQ</a>.</p>
                        </section>
                    </section>
                </section>
            </div>
        </div>

    </div>
</body>
<script src="js/app.js"></script>

</html>