<!-- ## Introduction
For this reason, we choose to place Eloquent models in the app directory by default, and allow the developer to place them somewhere else if they choose. -->

## The Root Directory

### The App Directory
The `app` directory contains the core code of your application. We'll explore this directory in more detail soon; however, almost all of the classes in your application will be in this directory.


### The Bootstrap Directory
The `bootstrap` directory contains the `app.php` file which bootstraps Lychee. This directory also houses a `cache` directory which contains framework generated files for performance optimization such as the route and services cache files.


### The Config Directory
The `config` directory, as the name implies, contains all of Lychee's configuration files. It's a great idea to read through all of these files and familiarize yourself with all of the options available to you.


### The Database Directory
The `database` directory contains your database migrations, model factories, and seeds. If you wish, you may also use this directory to hold an SQLite database.


### The Public Directory
The `public` directory contains the `index.php` file, which is the entry point for all requests entering Lychee and configures autoloading.
<!-- This directory also houses your assets such as images, JavaScript, and CSS. -->


### The Resources Directory
The `resources` directory contains your views.
 <!-- as well as your raw, un-compiled assets such as LESS, SASS, or JavaScript. This directory also houses all of your language files. -->


### The Routes Directory
The `routes` directory contains all of the route definitions for Lychee. Several route files are included with Lychee: `admin.php`, `web.php`, `api.php`, `console.php` and `channels.php`. We only use the first two.

The `web.php` file contains routes that the `RouteServiceProvider` places in the `web` middleware group, which provides session state, CSRF protection, and cookie encryption.

The `admin.php` file contains routes with the same requirement as in `web.php` while adding an admin middleware to protect them.

<!-- The `api.php` file contains routes that the RouteServiceProvider places in the api middleware group, which provides rate limiting. These routes are intended to be stateless, so requests entering the application through these routes are intended to be authenticated via tokens and will not have access to session state. -->

<!-- The `console.php` file is where you may define all of your Closure based console commands. Each Closure is bound to a command instance allowing a simple approach to interacting with each command's IO methods. Even though this file does not define HTTP routes, it defines console based entry points (routes) into your application. -->

<!-- The `channels.php` file is where you may register all of the event broadcasting channels that your application supports. -->


### The Storage Directory
The `storage` directory contains your compiled Blade templates, file based sessions, file caches, and other files generated by the framework. This directory is segregated into `app`, `framework`, and `logs` directories. The `app` directory may be used to store any files generated by your application. The `framework` directory is used to store framework generated files and caches. Finally, the `logs` directory contains Laravel's log files (useful in case of hard crash).

<!-- The `storage/app/public` directory may be used to store user-generated files, such as profile avatars, that should be publicly accessible. You should create a symbolic link at `public/storage` which points to this directory. You may create the link using the `php artisan storage:link` command. -->


### The Tests Directory
The `tests` directory contains your automated tests. An example [PHPUnit][1] test is provided out of the box. Each test class should be suffixed with the word `Test`. You may run your tests using the commands: `make test`, `phpunit` or `php vendor/bin/phpunit` commands.

> {note} This directory is not provided in the release zip file in order to reduce the size of the archive.


### The `vendor` Directory
The `vendor` directory contains your [Composer][2] dependencies.

> {tip} While this directory is not provided if you use *git* to manage your Lychee installation, we provide it in the release wip file.

## The App Directory
The majority of Lychee is housed in the `app` directory. By default, this directory is namespaced under `App` and is autoloaded by Composer using the [PSR-4 autoloading standard][3].

The `app` directory contains a variety of additional directories such as `Console`, `Http`, and `Providers`. Think of the `Console` and `Http` directories as providing an API into the core of your application. The HTTP protocol and CLI are both mechanisms to interact with Lychee, but do not actually contain application logic. In other words, they are two ways of issuing commands to Lychee. The `Console` directory contains all of the Artisan commands, while the `Http` directory contains your controllers, middleware, and requests.

<!-- A variety of other directories will be generated inside the app directory as you use the make Artisan commands to generate classes. So, for example, the app/Jobs directory will not exist until you execute the make:job Artisan command to generate a job class. -->

<!-- Many of the classes in the app directory can be generated by Artisan via commands. To review the available commands, run the php artisan list make command in your terminal. -->


<!-- The Broadcasting Directory
The Broadcasting directory contains all of the broadcast channel classes for your application. These classes are generated using the make:channel command. This directory does not exist by default, but will be created for you when you create your first channel. To learn more about channels, check out the documentation on event broadcasting. -->


### The Console Directory
The `Console` directory contains all of the custom Artisan commands for Lychee. These commands may be generated using the `make:command` command.
<!-- This directory also houses your console kernel, which is where your custom Artisan commands are registered and your scheduled tasks are defined. -->

### The ControllerFunctions Directory
The `ControllerFunctions` directory houses some of the Logic of Lychee. It currently is dedicated to the Installation and Update process. It should hold more logic in the future.

<!-- ### The Events Directory
This directory does not exist by default, but will be created for you by the event:generate and make:event Artisan commands. The Events directory houses event classes. Events may be used to alert other parts of your application that a given action has occurred, providing a great deal of flexibility and decoupling. -->


### The Exceptions Directory
The `Exceptions` directory contains Lychee's exception handler. If you would like to customize how your exceptions are logged or rendered, you should modify the Handler class in this directory.


### The Http Directory
The `Http` directory contains your controllers, middleware, and form requests. Almost all of the logic to handle requests entering your application will be placed in this directory.

It currently houses some logic which should be refactored away.

### The Image Directory
The `Image` directory contains our image handler. We provide here two ways to manipulate pictures:

- with GD,
- with imagick.

### The Locale Directory
The `Locale` directory contains at the moment all the translations strings for Lychee. This inhouse solution needs to be refactored to follow a better design.

### The Metadata Directory
The `Metatdata` directory contains logic related to data such as Exif information, geodecoding, lychee version, GitHub monitoring...

### The ModelFunctions Directory
The `ModelFunctions` directory contains logic related to the models. This aims to improve interaction between models without clustering their files with logic.

<!-- The Jobs Directory
This directory does not exist by default, but will be created for you if you execute the make:job Artisan command. The Jobs directory houses the queueable jobs for your application. Jobs may be queued by your application or run synchronously within the current request lifecycle. Jobs that run synchronously during the current request are sometimes referred to as "commands" since they are an implementation of the command pattern. -->


<!-- The Listeners Directory
This directory does not exist by default, but will be created for you if you execute the event:generate or make:listener Artisan commands. The Listeners directory contains the classes that handle your events. Event listeners receive an event instance and perform logic in response to the event being fired. For example, a UserRegistered event might be handled by a SendWelcomeEmail listener. -->


<!-- The Mail Directory
This directory does not exist by default, but will be created for you if you execute the make:mail Artisan command. The Mail directory contains all of your classes that represent emails sent by your application. Mail objects allow you to encapsulate all of the logic of building an email in a single, simple class that may be sent using the Mail::send method. -->


<!-- The Notifications Directory
This directory does not exist by default, but will be created for you if you execute the make:notification Artisan command. The Notifications directory contains all of the "transactional" notifications that are sent by your application, such as simple notifications about events that happen within your application. Laravel's notification features abstracts sending notifications over a variety of drivers such as email, Slack, SMS, or stored in a database. -->


<!-- The Policies Directory
This directory does not exist by default, but will be created for you if you execute the make:policy Artisan command. The Policies directory contains the authorization policy classes for your application. Policies are used to determine if a user can perform a given action against a resource. For more information, check out the authorization documentation. -->


### The Providers Directory
The `Providers` directory contains all of the [service providers][4] for Lychee. Service providers bootstrap Lychee by binding services in the service container, registering events, or performing any other tasks to prepare your application for incoming requests.

### The Redirection Directory
The `Redirection` directory houses main redirection to handle the installation (database not set) and safety cases (security key not set).

<!-- The Rules Directory
This directory does not exist by default, but will be created for you if you execute the make:rule Artisan command. The Rules directory contains the custom validation rule objects for your application. Rules are used to encapsulate complicated validation logic in a simple object. For more information, check out the validation documentation. -->

[1]: https://phpunit.de/
[2]: https://getcomposer.org/
[3]: https://www.php-fig.org/psr/psr-4/
[4]: https://laravel.com/docs/7.x/providers